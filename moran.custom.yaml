# å¯ä½¿ç”¨
# __patch: moran.custom:/patch?
# æ‰‹å‹•å¼•å…¥æ­¤è£œä¸

patch:
  # å¼€å¯ç°¡å¿«ç¢¼æç¤º
  moran/quick_code_indicator: "ğŸ“Œ"
  moran/enable_quick_code_hint: true
  
  # å®Œå…¨å®šä¹‰å¼€å…³åˆ—è¡¨ï¼Œæ·»åŠ ç”¨äºåœ¨å­—å½¢æ¨™æº–é–“åˆ‡æ¢çš„ä¸‰æ…‹å¼€å…³
  switches: 
    - name: ascii_mode
      states: [ ä¸­æ–‡, è¥¿æ–‡ ]
    - options: [ std_opencc, std_priv, std_simp ]
      states: [ æ­£, æ­ª, ç®€ ]
      reset: 1
    - name: extended_charset
      states: [ é€šç”¨, å¢å»£ ]
    # Emoji å¸¸å¼€ï¼Œé»˜è®¤ç®€åŒ–å™¨å¸¸å…³ï¼Œæ‹†å­—æç¤ºæŒ‰éœ€å¼€å¯
    - name: emoji
      reset: 1
    - name: simplification
      reset: 0
    - name: chaifen
    # ç”¨ä¸åˆ°çš„å¼€å…³ï¼Œæ”¾åœ¨é€™è£¡å¤‡ç”¨
    - name: full_shape
    - name: ascii_punct
    - name: inflexible
    - name: unicode_comment

  # åœ¨ unifier å‰å¢åŠ ä¸¤ä¸ªè‡ªå®šä¹‰ç®€åŒ–å™¨
  engine/filters/@before last: simplifier@std_simp
  engine/filters/@before last: simplifier@std_priv

  # è‡ªå®šç°¡åŒ–å™¨
  std_priv:
    opencc_config: t2p.json
    option_name: std_priv

  # æ¨™æº–ç°¡åŒ–å™¨
  std_simp:
    opencc_config: moran_t2s.json
    option_name: std_simp

  # åœæ­¢ä½¿ç”¨åå¼•å·å¼•å¯¼è™ç åæŸ¥
  recognizer/patterns/reverse_tiger: "^ohu[A-Za-z]*$" 

  # ä¼˜åŒ–æ‹†å­—æç¤ºçš„æ ¼å¼
  chaifen/comment_format:
    # è¿‡æ»¤ä¸ºç©ºçš„æ‹†åˆ†
    - xform/ã€”\\..+ã€•// 
    # ç”¨ | æ¥åˆ†å‰²å¤šç»„æ‹†åˆ†ï¼Œè€Œéç”¨å¤šç»„æ‹¬å·
    - xform/ã€•ã€”/ï½œ/
    # å…³é—­ç¼–ç æç¤º
    # - xform/[a-z]+//    

  # è‡ªå®šç¾©å¿«æ·éµ
  key_binder/bindings:
    # éŸ³ç¯€é–“å¿«é€Ÿè·³è½‰
    - { when: has_menu, accept: "Tab", send: "Control+Right" }
    - { when: composing, accept: "Tab", send: "Control+Right" }
    # åŠŸèƒ½å¼€å…³
    - { when: has_menu, accept: "Control+i", toggle: chaifen }
    - { when: has_menu, accept: "Control+e", toggle: emoji }
    - { when: composing, accept: "Control+x", toggle: extended_charset }
    # å­—å½¢å¿«é€Ÿåˆ‡æ›
    - {accept: Control+Shift+T, set_option: std_opencc, when: always}
    - {accept: Control+Shift+P, set_option: std_priv, when: always}
    - {accept: Control+Shift+S, set_option: std_simp, when: always}
    # å­—å½¢å¿«é€Ÿåˆ‡æ¢ï¼ˆå€™é¸çª—ï¼‰
    - {accept: Control+t, set_option: std_opencc, when: has_menu}
    - {accept: Control+p, set_option: std_priv, when: has_menu}
    - {accept: Control+s, set_option: std_simp, when: has_menu}
    # å­—å½¢éæ­·
    - {accept: Control+Shift+O, toggle: std_opencc, when: always}

  # ä½¿ç”¨é¹¤éŸ³
  algebra/user_sentence_top/__append/+:
    # éŸ³ç è½¬æˆå¤§å†™
    - xform/^([a-z]+);/\U$1;/   
    # æŠŠå¤§å†™çš„éŸ³ç ç¿»è¯‘æˆé¹¤éŸ³
    - xform/^BZ/bw/
    - xform/^DZ/dw/
    - xform/^FZ/fw/
    - xform/^GZ/gw/
    - xform/^HZ/hw/
    - xform/^KZ/kw/
    - xform/^LZ/lw/
    - xform/^MZ/mw/
    - xform/^NZ/nw/
    - xform/^PZ/pw/
    - xform/^SZ/sw/
    - xform/^UZ/uw/
    - xform/^TZ/tw/
    - xform/^WZ/ww/
    - xform/^ZZ/zw/
    - xform/^VZ/vw/
    - xform/^IP/iy/
    - xform/^CP/cy/
    - xform/^DP/dy/
    - xform/^GP/gy/
    - xform/^HP/hy/
    - xform/^JP/jy/
    - xform/^KP/ky/
    - xform/^LP/ly/
    - xform/^NP/ny/
    - xform/^QP/qy/
    - xform/^RP/ry/
    - xform/^UP/uy/
    - xform/^SP/sy/
    - xform/^TP/ty/
    - xform/^XP/xy/
    - xform/^YP/yy/
    - xform/^VP/vy/
    - xform/^ZP/zy/
    - xform/^BX/bp/
    - xform/^DX/dp/
    - xform/^JX/jp/
    - xform/^LX/lp/
    - xform/^MX/mp/
    - xform/^NX/np/
    - xform/^PX/pp/
    - xform/^QX/qp/
    - xform/^TX/tp/
    - xform/^XX/xp/
    - xform/^BL/bd/
    - xform/^CL/cd/
    - xform/^IL/id/
    - xform/^DL/dd/
    - xform/^GL/gd/
    - xform/^HL/hd/
    - xform/^KL/kd/
    - xform/^LL/ld/
    - xform/^ML/md/
    - xform/^NL/nd/
    - xform/^PL/pd/
    - xform/^SL/sd/
    - xform/^UL/ud/
    - xform/^TL/td/
    - xform/^WL/wd/
    - xform/^ZL/zd/
    - xform/^VL/vd/
    - xform/^BY/bk/
    - xform/^DY/dk/
    - xform/^JY/jk/
    - xform/^LY/lk/
    - xform/^MY/mk/
    - xform/^NY/nk/
    - xform/^PY/pk/
    - xform/^QY/qk/
    - xform/^TY/tk/
    - xform/^XY/xk/
    - xform/^YY/yk/
    - xform/^IY/ik/
    - xform/^GY/gk/
    - xform/^HY/hk/
    - xform/^KY/kk/
    - xform/^UY/uk/
    - xform/^VY/vk/
    - xform/^DD/dl/
    - xform/^JD/jl/
    - xform/^LD/ll/
    - xform/^ND/nl/
    - xform/^QD/ql/
    - xform/^XD/xl/
    - xform/^ID/il/
    - xform/^GD/gl/
    - xform/^HD/hl/
    - xform/^KD/kl/
    - xform/^UD/ul/
    - xform/^VD/vl/
    - xform/^IB/iz/
    - xform/^CB/cz/
    - xform/^DB/dz/
    - xform/^FB/fz/
    - xform/^GB/gz/
    - xform/^HB/hz/
    - xform/^KB/kz/
    - xform/^LB/lz/
    - xform/^MB/mz/
    - xform/^NB/nz/
    - xform/^PB/pz/
    - xform/^RB/rz/
    - xform/^UB/uz/
    - xform/^SB/sz/
    - xform/^TB/tz/
    - xform/^YB/yz/
    - xform/^VB/vz/
    - xform/^ZB/zz/
    - xform/^JW/jx/
    - xform/^LW/lx/
    - xform/^NW/nx/
    - xform/^QW/qx/
    - xform/^XW/xx/
    - xform/^IW/ix/
    - xform/^GW/gx/
    - xform/^HW/hx/
    - xform/^KW/kx/
    - xform/^UW/ux/
    - xform/^VW/vx/
    - xform/^BK/bc/
    - xform/^CK/cc/
    - xform/^IK/ic/
    - xform/^DK/dc/
    - xform/^GK/gc/
    - xform/^HK/hc/
    - xform/^KK/kc/
    - xform/^LK/lc/
    - xform/^MK/mc/
    - xform/^NK/nc/
    - xform/^PK/pc/
    - xform/^RK/rc/
    - xform/^SK/sc/
    - xform/^UK/uc/
    - xform/^TK/tc/
    - xform/^YK/yc/
    - xform/^ZK/zc/
    - xform/^VK/vc/
    - xform/^BN/bb/
    - xform/^JN/jb/
    - xform/^LN/lb/
    - xform/^MN/mb/
    - xform/^NN/nb/
    - xform/^PN/pb/
    - xform/^QN/qb/
    - xform/^XN/xb/
    - xform/^YN/yb/
    - xform/^BC/bn/
    - xform/^DC/dn/
    - xform/^JC/jn/
    - xform/^LC/ln/
    - xform/^MC/mn/
    - xform/^NC/nn/
    - xform/^PC/pn/
    - xform/^QC/qn/
    - xform/^TC/tn/
    - xform/^XC/xn/
    # æŠŠå¤§å†™è½¬å›å°å†™
    - xlit/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/